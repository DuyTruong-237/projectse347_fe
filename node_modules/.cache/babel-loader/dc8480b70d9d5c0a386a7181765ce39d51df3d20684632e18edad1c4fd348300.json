{"ast":null,"code":"var _jsxFileName = \"D:\\\\uit\\\\hk1_2\\\\se347\\\\pj\\\\projectse347_fe\\\\src\\\\component\\\\screen\\\\ListPost\\\\Post.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport \"./Post.css\";\nimport like from \"./like.png\";\nimport Delete from \"./delete.png\";\nimport Axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Loading from '../../Loading/Loading';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Post() {\n  _s();\n  const [postList, setPostList] = useState([]);\n  const user = useSelector(state => {\n    var _state$auth$login;\n    return (_state$auth$login = state.auth.login) === null || _state$auth$login === void 0 ? void 0 : _state$auth$login.currentUser;\n  });\n  const a = false;\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    Axios.get('http://192.168.95.212:8000/v1/post/readPost').then(respone => {\n      setPostList(respone.data);\n      setLoading(true);\n    });\n  }, []);\n  const likeHandle = id => {\n    window.location.reload();\n    Axios.put('http://192.168.95.212:8000/v1/post/likePost', {\n      _id: id\n    });\n  };\n  const [query, setQuery] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: [loading ? postList.filter(post => post.title.toLowerCase().includes(query)).map((post, key) => {\n        const imgList = post.imgURLs.split(\",\")[0];\n        const img_url = \"http://192.168.95.212:8000/\" + imgList;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"post_img\",\n            src: img_url,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post_title\",\n            children: post.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post_content\",\n            children: [post.des, \" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/readblog\",\n              state: {\n                title: post.title,\n                des: post.des,\n                imgURLs: img_url\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"read_more\",\n                children: \"...read more\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 139\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 62\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post_react_flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post_icon_like\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img_like\",\n                onClick: () => likeHandle(post._id),\n                src: like,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text_like_flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text_like\",\n                  children: \"Like\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text_like\",\n                  children: post.like\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 25\n            }, this), user !== null && user !== void 0 && user.admin ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post_icon_like\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: Delete,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text_like1\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 40\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 24\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/addpost\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btnAddport\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"iconAddPost\",\n            src: process.env.PUBLIC_URL + '/image/iconAddPost.png',\n            alt: \"AddPost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"O6MesSf3xL441YRmkU9PXWnvz3I=\", false, function () {\n  return [useSelector];\n});\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","useEffect","like","Delete","Axios","Link","Loading","useSelector","Post","postList","setPostList","user","state","auth","login","currentUser","a","loading","setLoading","get","then","respone","data","likeHandle","id","window","location","reload","put","_id","query","setQuery","filter","post","title","toLowerCase","includes","map","key","imgList","imgURLs","split","img_url","des","admin","process","env","PUBLIC_URL"],"sources":["D:/uit/hk1_2/se347/pj/projectse347_fe/src/component/screen/ListPost/Post.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport \"./Post.css\"\r\nimport like from \"./like.png\";\r\nimport Delete from \"./delete.png\"\r\nimport Axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Loading from '../../Loading/Loading';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\n\r\nfunction Post() {\r\n    const [postList,setPostList] = useState([])\r\n    const user= useSelector((state)=> state.auth.login?.currentUser);\r\n    const a=false;\r\n  \r\n    const [loading , setLoading] = useState(false)\r\n    useEffect(()=>{\r\n        Axios.get('http://192.168.95.212:8000/v1/post/readPost').then((respone) => {setPostList(respone.data) ; setLoading(true)})\r\n    },[])\r\n    \r\n    const likeHandle = (id)=>{\r\n        window.location.reload()\r\n        Axios.put('http://192.168.95.212:8000/v1/post/likePost',{\r\n            _id : id\r\n        })\r\n    }\r\n    const [query, setQuery] = useState(\"\")\r\n  return (\r\n    <div>\r\n        \r\n        <div className='grid'>\r\n              {loading?postList.filter((post) =>\r\n                  post.title.toLowerCase().includes(query)\r\n              ).map((post, key) => {\r\n                const imgList = post.imgURLs.split(\",\")[0];\r\n                const img_url = \"http://192.168.95.212:8000/\" + imgList;\r\n                return <div className='post' key={key}>\r\n                    <img className='post_img' src={img_url} alt='' />\r\n                    <div className='post_title'>{post.title}</div>\r\n                    <div className='post_content'>{post.des} <Link to=\"/readblog\" state={{title:post.title,des:post.des,imgURLs:img_url}}><strong className='read_more'>...read more</strong> </Link></div>\r\n                    <div className='post_react_flex'>\r\n                        <div className='post_icon_like'>\r\n                            <img className='img_like' onClick={() => likeHandle(post._id)} src={like} alt='' />\r\n                            <div className='text_like_flex'>\r\n                                <div className='text_like'>Like</div>\r\n                                <div className='text_like'>{post.like}</div>\r\n                            </div>\r\n                        </div>\r\n                        {user?.admin ? <div className='post_icon_like'>\r\n                            <img src={Delete} alt='' />\r\n                            <div className='text_like1'>Delete</div>\r\n                          \r\n                          </div>:\"\"}\r\n                            \r\n                        \r\n                    </div>\r\n                </div>\r\n            }):<Loading/>}\r\n\r\n            <Link to={\"/addpost\"}>\r\n                <div className='btnAddport'>\r\n                    <img className='iconAddPost' src={process.env.PUBLIC_URL + '/image/iconAddPost.png'} alt={\"AddPost\"} />\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n  )\r\n}\r\n\r\nexport default Post\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,EAACC,SAAS,QAAO,OAAO;AAC9C,OAAO,YAAY;AACnB,OAAOC,IAAI,MAAM,YAAY;AAC7B,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,SAASC,WAAW,QAAQ,aAAa;AAAC;AAI1C,SAASC,IAAI,GAAG;EAAA;EACZ,MAAM,CAACC,QAAQ,EAACC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAMW,IAAI,GAAEJ,WAAW,CAAEK,KAAK;IAAA;IAAA,4BAAIA,KAAK,CAACC,IAAI,CAACC,KAAK,sDAAhB,kBAAkBC,WAAW;EAAA,EAAC;EAChE,MAAMC,CAAC,GAAC,KAAK;EAEb,MAAM,CAACC,OAAO,EAAGC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC9CC,SAAS,CAAC,MAAI;IACVG,KAAK,CAACe,GAAG,CAAC,6CAA6C,CAAC,CAACC,IAAI,CAAEC,OAAO,IAAK;MAACX,WAAW,CAACW,OAAO,CAACC,IAAI,CAAC;MAAGJ,UAAU,CAAC,IAAI,CAAC;IAAA,CAAC,CAAC;EAC9H,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMK,UAAU,GAAIC,EAAE,IAAG;IACrBC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IACxBvB,KAAK,CAACwB,GAAG,CAAC,6CAA6C,EAAC;MACpDC,GAAG,EAAGL;IACV,CAAC,CAAC;EACN,CAAC;EACD,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACxC,oBACE;IAAA,uBAEI;MAAK,SAAS,EAAC,MAAM;MAAA,WACdiB,OAAO,GAACR,QAAQ,CAACuB,MAAM,CAAEC,IAAI,IAC1BA,IAAI,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACN,KAAK,CAAC,CAC3C,CAACO,GAAG,CAAC,CAACJ,IAAI,EAAEK,GAAG,KAAK;QACnB,MAAMC,OAAO,GAAGN,IAAI,CAACO,OAAO,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAMC,OAAO,GAAG,6BAA6B,GAAGH,OAAO;QACvD,oBAAO;UAAK,SAAS,EAAC,MAAM;UAAA,wBACxB;YAAK,SAAS,EAAC,UAAU;YAAC,GAAG,EAAEG,OAAQ;YAAC,GAAG,EAAC;UAAE;YAAA;YAAA;YAAA;UAAA,QAAG,eACjD;YAAK,SAAS,EAAC,YAAY;YAAA,UAAET,IAAI,CAACC;UAAK;YAAA;YAAA;YAAA;UAAA,QAAO,eAC9C;YAAK,SAAS,EAAC,cAAc;YAAA,WAAED,IAAI,CAACU,GAAG,oBAAE,QAAC,IAAI;cAAC,EAAE,EAAC,WAAW;cAAC,KAAK,EAAE;gBAACT,KAAK,EAACD,IAAI,CAACC,KAAK;gBAACS,GAAG,EAACV,IAAI,CAACU,GAAG;gBAACH,OAAO,EAACE;cAAO,CAAE;cAAA,wBAAC;gBAAQ,SAAS,EAAC,WAAW;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAsB;YAAA;cAAA;cAAA;cAAA;YAAA,QAAQ;UAAA;YAAA;YAAA;YAAA;UAAA,QAAM,eACvL;YAAK,SAAS,EAAC,iBAAiB;YAAA,wBAC5B;cAAK,SAAS,EAAC,gBAAgB;cAAA,wBAC3B;gBAAK,SAAS,EAAC,UAAU;gBAAC,OAAO,EAAE,MAAMnB,UAAU,CAACU,IAAI,CAACJ,GAAG,CAAE;gBAAC,GAAG,EAAE3B,IAAK;gBAAC,GAAG,EAAC;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAG,eACnF;gBAAK,SAAS,EAAC,gBAAgB;gBAAA,wBAC3B;kBAAK,SAAS,EAAC,WAAW;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAAW,eACrC;kBAAK,SAAS,EAAC,WAAW;kBAAA,UAAE+B,IAAI,CAAC/B;gBAAI;kBAAA;kBAAA;kBAAA;gBAAA,QAAO;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAC1C;YAAA;cAAA;cAAA;cAAA;YAAA,QACJ,EACLS,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEiC,KAAK,gBAAG;cAAK,SAAS,EAAC,gBAAgB;cAAA,wBAC1C;gBAAK,GAAG,EAAEzC,MAAO;gBAAC,GAAG,EAAC;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAG,eAC3B;gBAAK,SAAS,EAAC,YAAY;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAa;YAAA;cAAA;cAAA;cAAA;YAAA,QAEpC,GAAC,EAAE;UAAA;YAAA;YAAA;YAAA;UAAA,QAGT;QAAA,GAnBwBmC,GAAG;UAAA;UAAA;UAAA;QAAA,QAoB/B;MACV,CAAC,CAAC,gBAAC,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAE,eAEb,QAAC,IAAI;QAAC,EAAE,EAAE,UAAW;QAAA,uBACjB;UAAK,SAAS,EAAC,YAAY;UAAA,uBACvB;YAAK,SAAS,EAAC,aAAa;YAAC,GAAG,EAAEO,OAAO,CAACC,GAAG,CAACC,UAAU,GAAG,wBAAyB;YAAC,GAAG,EAAE;UAAU;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA;MACrG;QAAA;QAAA;QAAA;MAAA,QACH;IAAA;MAAA;MAAA;MAAA;IAAA;EACL;IAAA;IAAA;IAAA;EAAA,QACJ;AAIV;AAAC,GA3DQvC,IAAI;EAAA,QAEGD,WAAW;AAAA;AAAA,KAFlBC,IAAI;AA6Db,eAAeA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}